{% extends "base.html" %}
{% block title %}{{ block.super }} - Messages{% endblock %}
{% block content %}
  <div class="container my-4" style="max-width: 1000px;">
    {% if user.role == "MANAGER" and user_list %}
      {% include "partials/users_dropdown.html" with base_url_name="mail_messages:message_list" %}
      {% if message_list %}
        {% include "partials/list_of_messages.html" %}
      {% else %}
        <h2>This user has no messages.</h2>
      {% endif %}
    {% elif user.role == "USER" %}
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h5 class="fw-bold m-0">Your Messages</h5>
        <a class="btn btn-primary"
           href="{% url 'mail_messages:message_create' %}">Create New</a>
      </div>
      {% if message_list %}
        {% include "partials/list_of_messages.html" %}
      {% else %}
        <h2>
          You have no messages. You can <a href="{% url 'mail_messages:message_create' %}">add a new one</a> now.
        </h2>
      {% endif %}
    {% endif %}
  </div>
{% endblock %}
